# Grandpa's Pocket Watch Shop

---

Pocket Watches can be traced back to Italy in the late 15th
century, with manufacture spreading throughout the rest of
Europe in the early part of the 16th century. They were
the most common type of watch until around 1914 when wrist
watches started to come into fashion.

Although their professional usage in the modern environment
has come to an end they still hold much value and
attraction for enthusiasts who enjoy both the pleasure of
owning a pocket watch and fixing and refurbishing
one.

A niche market therefore, **Pocket Watches**,
**Parts** and **Tools** are highly sought after and
valued. However, such unusual items can be very
difficult to come by and find, which is why a website is
a perfect platform to fill this gap in the market place.

The aim of this Website is to provide an outlet for
**Pocket Watches**, **Parts** and **Tools**, and so fill the gap
in the market of a modern e-commerce Website that paves the way
for a smooth, easy and friendly place for consumers to search,
view and purchase **Pocket Watches**, **Parts** and **Tools**.

---

## DEMO

---

![Mockup Generator](/documentation/readme/grandpas-pocket-watch-shop.png/)

A live version of Website can be found
[here](https://grandpas-pocket-watch-shop.herokuapp.com/)

## Contents

1.[UX](#ux)

- [Strategy](#strategy)
  - [Agile User Stories](#agile-user-stories)
- [Scope](#scope)
- [Structure](#structure)
- [Skeleton](#skeleton)
- [Surface](#surface)
  - [Colour Scheme](#colour-scheme)
  - [Typography](#typography)

2.[Features](#features)

- [Navigation Bar and Main Header](#navigation-bar-and-main-header)
- [Home Page](#home-page)
- [Products App](#products-app)
- [Basket App](#basket-app)
- [Checkout App](#checkout-app)
- [Services App](#services-app)
- [Contact App](#contact-app)
- [About App](#about-app)
- [Profile App](#profile-app)
- [Extra Features](#extra-features)

3.[Features left to Implement](#features-left-to-implement)

4.[Database and Models](#database-and-models)

5.[Technologies Used](#technologies-used)

6.[Deployment](#deployment)

- [Step-1 GitHub Development](#step-1)
- [Step-2 Heroku Production](#step-2)
- [Step-3 Store Static Files and Images](#step-3)
- [Step-2 Email](#step-4)

7.[Credits](#credits)

---

## UX

---

### Strategy

Users of this Website are a specific group of pocket
watch enthusiasts who often have a high level of knowledge
with particular pocket watch requirements and needs. The Website
therefore must be fully researched and accurately
describe it's products.

Users of e-commerce Websites aim to be able to quickly
navigate to the product they require with
ease, intuition, and limited complications. Adding a
'Search' feature to the Website will increase users ability
to find products quickly.

The Website needs to stand out from it's competitors by being
rich in imagery and specific in product details. Creating a repair
and valuation service for registered users will increase user
loyalty to the Website and encourage them to return.

A mobile first approach will be instigated in the design
to allow users to purchase easily and efficiently on smaller
devices.

For this Website an 'Agile User Stories' list will
continually be assessed and achieved to ensure the greatest
experience and satisfaction for users.

#### Agile User Stories

Agile User Stories can be found
[here](https://github.com/Bealby/grandpas-pocket-watch-shop/blob/master/documentation/readme/user-stories.pdf)

### Scope

The Website needs to allow users to add products to their
basket on a continuous basis while shopping and browsing
through the Website. Their last task requires them to
follow through to the checkout and payment, while being
notified of each step along the way.

The Website also needs to allow it's 'superusers' to
create, edit and delete products to accurately maintain
details and expand the Website's product portfolio.

A contact information page allows users to report back
any issues, particularly enquiries regarding products
and purchases. A repair and valuation service
will also be included.

### Structure

As an e-commerce enterprise that sells products, the
Website needs to reflect this visibly upon entering
the Website, so that users know exactly why they are 'there',
and what they can immediately 'do'.

To achieve this goal, e-commerce design conventions used by
strong brands such as 'Amazon', 'ebay' and
'Etsy', need to be applied. This was done.

The **Navigation Bar** will be fixed at the top, with the
**Logo** and **Search Bar** stretched across the centre.
**Product** headers will be displayed underneath and centred.
**Icons** will be used for the **Login**, **Basket** and **Service**
features that will be positioned to the
far right of the **Navigation Bar**.

The main **Home** page will have a bold heading titled "Choose a Category",
with clickable icons/images for the three main categories of 'Pocket Watch',
'Parts' and 'Tools'. These icons/ images should intuitively convey the
Website's aim of selling these types of products.

The placement of imagery and icons, as well as the structure of the
navigation bar and home page, should help users
intuitively focus into buying. The key factor to be aware of is
that the simple, concise structure will avoid cognitive
overload and distract the main aim of the Website.

Throughout the Website a strong emphasis will be made on
clear imagery of products, ensuring that product layout does
not come across as congested. This will allow users to view and search
products quickly and efficiently, and so expedite their desire to
add products to their basket and checkout with little fuss.

Extra features such as links to `About` and `Contact`
will be displayed in the footer of the Web page. This limits the users
attention being drawn to other parts of the Website rather than
shopping. An extra icon for `Basket` will also be displayed, providing
the users plentiful opportunities to follow through with the transaction.

Links to `About Us` and `Contact` will not however
become obsolete for users navigating through the Website. The
longer users are engaged in the
Website the more likely their trust will grow, leading them to
naturally search and find links to `About Us` and `Contact`.

### Skeleton

Please find my Wireframes for Desktop, Tablet and Mobile
[here](https://github.com/Bealby/grandpas-pocket-watch-shop/blob/master/documentation/wireframes/wireframes.pdf)

### Surface

#### Colour Scheme

**Primary/ Secondary Colours:**

White: ![#ffffff](https://via.placeholder.com/15/ffffff/000000?text=+)
`rgb(255, 255, 255, 1)`

Green: ![#badc98](https://via.placeholder.com/15/badc98/000000?text=+)
`rgb(186, 220, 192, 1)`

Orange: ![#dc9523](https://via.placeholder.com/15/dc9523/000000?text=+)
`rgb(220, 149, 35, 1)`

There will be a strong usage of white in the Website. Products will be
displayed over a white background so that they take precedent and catch
the users eye.

The main header will also have a white background that will help the logo
and icon features become apparent and distinct.

A light fresh green will then be used for the Navbar which will display
the product categories. This subtle and less dominant shade of green will
emphasise the categories in a friendly, warm manner.

A complementary orange will then be used to help draw out the important
features of the Website such as the main headers and accumulative costs
under the `basket` icon.

A suggested complementary colour for
![#badc98](https://via.placeholder.com/15/badc98/000000?text=+)
`rgb(186, 220, 192, 1)` was a light purple. It was decided that
this shade of purple did not suit the theme and user profile of
the Website.

- **Font Colours**

Black: ![#000000](https://via.placeholder.com/15/000000/000000?text=+)
`rgb(0, 0, 0, 1)`

White: ![#ffffff](https://via.placeholder.com/15/ffffff/000000?text=+)
`rgb(255, 255, 255, 1)`

Fonts will be mainly black throughout the website. Black is a prominent
colour that will hold well with clarity against a background white.

White font will be used against non-white colours where appropriate,
to continue the clarity of readability.

- **Button/ Link Colour**

Orange: ![#DC9523](https://via.placeholder.com/15/dc9523/000000?text=+)
`rgb(220, 149, 35, 1)`

Black: ![#000000](https://via.placeholder.com/15/000000/000000?text=+)
`rgb(0, 0, 0, 1)`

White: ![#ffffff](https://via.placeholder.com/15/ffffff/000000?text=+)
`rgb(255, 255, 255, 1)`

Buttons/ Links that have positive actions will be of an orange colour
with white text. This will help the buttons/ links stand out and at
the same time entice a soft approach for users to add products and
move towards checkout

**Buttons/ Links/ Icons/ Hover Affects**
For most hover affects a slight opacity of `0.6` will be used that
will subtly change the tone of the button/ links and inform the user
to click accordingly.

Larger icons in the Headers/ Navbar/ Footer will hover from a black
colour to orange to continue with the main colour theme of the Website.

For **User Login**, **Checkout** and **Confirm Payment** Buttons/Links
will be black with white text and be used to highlight the importance
and seriousness of clicking the link.

- **Body Text/ Input Fields**

- Grey: ![#404040](https://via.placeholder.com/15/404040/000000?text=+)

`rgb(64, 64, 64, 1)`

Body text that provides descriptions of products, as well as order
information, will be of a light grey to provide a softer tone, which
is easier on the eye.

- **Toasts**

Warning: ![#5cb85c](https://via.placeholder.com/15/5cb85c/000000?text=+)
`rgb(92, 184, 92)`

Info: ![#5bc0de](https://via.placeholder.com/15/5bc0de/000000?text=+)
`rgb(91, 192, 222)`

Error: ![#f0ad4e](https://via.placeholder.com/15/f0ad4e/000000?text=+)
`rgb(240, 173, 78)`

Danger: ![#d9534f](https://via.placeholder.com/15/d9534f/000000?text=+)
`rgb(217, 83, 79)`

For Toast info windows, colours conforming to standard practices will be used
for `Warning`, `Info`. `Error` and `Danger` respectively.

#### Typography

- font-family: 'Berkshire Swash', cursive;

![Berkshire Swash](/documentation/readme/berkshire.png/)

`Berkshire Swash` font will be used for the main headers of the
Website. This font really helps bring out the theme and feel of
the Website, creating an old fashioned feel appropriate for
Pocket Watches.

- font-family:'Roboto', sans-serif;

![Roboto Text](/documentation/readme/roboto.png/)

The complementary font of `Roboto` will be used for the main
content of the Website.

**N.B.** It should be noted that through the design process
there have been necessary changes made to the Website and
therefore to the Wireframes. The overall structure and layout
of the Website remains the same but it was decided to change
the colour theme of the website along with an app change.

The original colour theme of contrasting greys, was not
satisfactory to the overall feel of the Website, as it created
a very bland and dull user interface. It was therefore replaced
with a more engaging colour theme explained in the **Surface**
section.

The Forum app was also replaced with a Service app. It was
felt that a 'Repair or Valuation' service booking form was
more beneficial for both the user and owner, as it would
potentially create extra business and profit for Grandpa's
Pocket Watch Shop.

To allow for 'superusers' to Add/ Edit/ Remove products directly
from the Website was also not instigated as this is not appropriate
and could be a security risk. Instead Add/ Edit, Remove can only be
carried out in Admin.

[Go to top](#contents)

---

## Features

---

Much of the layout of the Website used the Bootstrap Grid
System of containers, rows and columns; styled by css. This
allowed the Website to be clearly structured and for the
content to be responsive.

Extra features used from Bootstrap include
`Cards`, `Badges`, `Tables`, which all helped in the UI and
UX of the Website.

### Navigation Bar and Main Header

#### Mobile

![Nav-Mobile](/documentation/readme/nav-mobile.png/)

- For mobile devices the Navigation Bar/ Header will focus more
  on intuitive icons to click rather than text, to ensure a
  minimalistic and non-congestive look.

- The main header will include the logo that is clickable to the
  `Home` page, along with the three icons for `Repair & Valuation`,
  `Profile` and `Basket`. Each icon, when hovered over, will change
  colour to orange `rgb(220, 149, 35, 1)`.

- For the basket icon a total figure will be displayed directly
  underneath. When products are added to the basket the number
  will change and show the accumulative sum of products(s)
  added. This is a subtle feature that will catch the users
  eye while they are shopping. and perhaps even encourage
  users to follow through with their transaction.

- Under the main header a toggle icon will be displayed that once
  clicked will create a dropdown menu of all categories and the
  products associated with them.

- A search bar will continually be present and accessible on
  all device size screens to inform the user that there is support
  in searching through the extensive number of products listed.
  The search function will allow for searches
  in name fields as well as in description fields.

- If a user searches for a product that is not found a
  page will be displayed requesting user tries again
  or searches again in 'All Products'.

#### Desktop

![Nav-Desktop](/documentation/readme/nav-desktop.png/)

- For larger devices the features displayed and their
  functionality will mainly remain the same except that the
  category names will be displayed - `Pocket Watches`, `Parts`,
  `Tools` and `Services` - and when clicked a dropdown menu
  will display all the categories accordingly.

- The search bar will move to the main header and be
  displayed centrally between the logo and icons.

- Media queries are set up for icons and headings to
  decrease in size for smaller devices to ensure the desktop
  layout is maintained, until the Bootstrap Navbar Collapse
  kicks in for mobile devices.

- The Navigation/ Main Header layout will remain constant
  throughout the navigation of the Website. Allowing
  the user to become familiar very quickly with the
  Website's navigation.

### Home Page

![Home Desktop](/documentation/readme/home-dt.png/)

- The `Home` page will display 4 images of categories with
  text icons underneath for `Watches`, `Parts`, `Tools`
  and `Services` respectively. Both the images and text
  icons can be hovered over and when clicked
  direct the user to the relevant pages accordingly.

- The images create a greater visual
  and interactive experience for the user.

- For larger screen devices the layout will involve
  1 row of category images; for medium screens 2 rows;
  and for smaller screens the images will be removed and
  replaced with icons for better UI and UX.

- It was decided to use the title 'Grandpa's Pocket Watch
  Shop' on this page to establish the specific nature of
  products being sold on the Website, which is solely
  revolved around Pocket Watches.

- A sub header, 'Choose a Category`, is then displayed to
  inform the users of the categories available to explore.

### Products App

![Products](/documentation/readme/products.png/)

- The `Products` page will display products unified in size and
  laid out symmetrically in 4 columns for large screens and
  decreasing to 3, 2 and 1 column for smaller screens respectively.
  This ensures the products are clearly viewed and not rendered
  too small on any device screen size.

- Each product will have their 'Name', 'Cost' and 'Sku Number'
  displayed underneath. A large orange button, with the text
  'ADD TO BASKET' is viewable to the user and spans the length
  of the product image width. When hovered over the button
  enlarges slightly and turns a darker shade of orange.
  This allows the user to skip the option to seek further details
  of the product if they prefer to quickly continue shopping.

- There are of course options for the user to seek more
  information on a product enabled through
  clicking on the `Read More` link or hovering over the
  image itself, which in turn will redirect the user to
  the `Product Details` page. Here the product will be
  displayed solely on it's own, with a larger image and
  more descriptive text.

- A button for `ADD TO BASKET` is also displayed on the
  `Product Details` page along with another
  link to enable the user to `Keep Shopping`.

- When a user on the `Products` page clicks the `ADD to BASKET`
  link the user is redirected to page they are on so that they
  are not thrown back to the `All Products` page and made to
  navigate through Website again to find their location.

- With the vast number of products listed a fixed upwards facing
  chevron icon will be positioned at the bottom right of the screen
  for users to click, which will take them back to the top
  of the page.

- The goal of the Website is to always encourage a user
  to purchase products in a friendly manner yet provide
  alternative navigation options.

- A `Bootstrap Badge` functionality is set to help the user
  identify which products are listed on the page. These
  `Badges`, when hovered over, will turn orange and change
  from black to white text when clicked.

- Once the `ADD TO BASKET` button is clicked an info window
  will pop up with a notification of the product added.
  Defensive design prevents the users from adding the
  same product twice and the user will be notified
  accordingly by a pop up window.

### Basket App

![Basket](/documentation/readme/basket.png/)

- The `Basket` page will display an accumulative list of
  products added to the basket that will include their 'Image',
  'Product Name' and 'Sku Number'. Each product in the basket
  will have a delete icon alongside it, that is black in colour
  and red when hovered over. The delete icon will remove the
  product item from the basket and recalculate costs. A pop-up
  window will be displayed informing user item has been removed
  from the basket.

- For desktop devices there will be a two column structure,
  the first showing a list of items in the basket and the second
  showing the `Item(s)Total`, `Delivery` and `Total Cost`
  respectively. As the basket list expands in the first column
  the second column of totals will remain viewable.

- Underneath the totals summary there will be a button to click to
  `CHECKOUT`, which will take a background colour
  of black with white font to highlight it's importance.
  The user will also have a link to `Keep Shopping`,
  providing the user alternative options.

- For smaller devices the information will be displayed
  in a single column with the list of products in basket
  being displayed first and then the 'Totals', 'Checkout'
  and 'Keep Shopping' links after.

- For each product in the basket the product image will be
  clickable and allow users to view the product details
  again.

### Checkout App

![Checkout](/documentation/readme/checkout.png/)

- The `Checkout` page will have a similar layout as the
  `Basket` page except the delete icon will not be
  available and there will be delivery information
  fields to fill out for payment.

- For the payment form each field will have a placeholder
  text defining which inputs are required and which are
  optional. This will be highlighted with the use of an
  asterisk. For registered users the fields will automatically
  be prefilled if the user has updated their profile.

- Defensive design will prevent any form from being
  submitted incorrectly and notifications will continually
  advise the user of any issues while completing the
  payment form.

- A `COMPLETE ORDER` button is displayed at the end of the
  payment form along with a secure icon to
  highlight it's security. If all information is completed
  correctly, and the user confirms the order, a spinner
  window of green, matching the colour theme of the website,
  will be displayed, until the payment order goes through on
  Stripe. After which an info window will pop-up
  confirming the order has gone through. The user
  will then be redirected to an order summary page
  that will provide all the details of their order.
  An email will also be sent to their email address
  confirming these details.

- It should be noted that while on the `Checkout` page
  there is an option and link for the user to `Adjust`
  their basket.

### Services App

![Services](/documentation/readme/services.png/)

- The `Services` page can only be accessed if you are a
  registered user and non users will be advised to register
  beforehand. This will be highlighted in the sign-up page,
  to inform the user the benefits of registering.

- The `Services` page will have a 2 column design for desktop
  and 1 column for mobile.

- The main header of the page will invite the user to visit
  the shop, which will then be followed by the proposal for
  the user to have their Pocket Watch repaired or valued.
  An exciting opportunity for any user visiting
  the Website.

- Grandpa's Pocket Watch Shop will evaluate customers' Pocket
  Watches and provide an estimate of costs. It is important to
  add a non-committal repair clause as it could otherwise
  deter customers coming in.

- Grandpa's Pocket Watch Shop will provide a valuation for free.
  It can be assumed that many Pocket Watches brought in will most
  often need maintenance and repair and it is this indirect
  business that will make the 'Free' valuation worthwhile.
  A cost of a 'Certified Valuation' or 'Documented History'
  of the Pocket Watch will also create business.

- Icons are used to describe the Repair or Valuation offers,
  under which details of the services provided will be shown.

- An image of a man fixing a watch brings the page to
  life with a caption below stating the day and time
  appointments can be booked.

- A flashing arrow pointing towards the appointment form
  will direct the user accordingly.

- All fields of the form are required and necessary alerts
  will advise the user when fields are not filled in correctly.
  Dropdown options are used where possible to make the form
  as easy to fill out as possible and also minimise
  input errors.

- For the date field a calendar pops up allowing
  the user to pick a date without having to type
  a date manually. This also prevents field errors
  when dates can take different formats.

- Calendar Settings:
  - No manual input by user.
  - No dates allowed prior to "today's" date plus
    5 days.
  - Bookings can only be made 5 days in advance,
    to allow the shop owner to prepare accordingly

- Calendar settings allow for good defensive design and
  prevent users inputting dates that are redundant for
  the shop owner.

- A bold, `CONFIRM APPOINTMENT` button is displayed at
  the bottom of the form, of colour orange and once clicked
  the user will be redirected to a confirmation booking page.
  A notification info window will also pop-up confirming
  the appointment.

- Along with this an email of the appointment booking will
  be sent to the users email with all details provided.

- On the confirmation booking page a 'BACK TO MY PROFILE'
  button will be displayed which will redirect the user
  to their `My Profile` page. This introduces the user to
  all the features in the `My Profile` page, which include
  a tabulated list of orders and appointments made. Along
  with the option to 'edit' and 'delete' appointments.

- For smaller devices the 2 column layout will collapse
  into one column with the appointment form positioned at
  the bottom.

### Contact App

![Contact](/documentation/readme/contact.png/)

- A `Contact` page provides users and non-users
  the opportunity to get in contact with the owners
  with any order, appointment, or general enquiry questions.

- For the desktop the `Contact` page will have a 2 column
  design. The first column will display the address, email
  telephone information and Map, with icons used for better UI.
  The second column will display the `Contact` form.

- Below the contact information there will be an interactive
  map, set up through Google `Maps JavaScript API`, that will
  provide the shop location along with a pop-up information
  window which will bring up the shop's logo as well as
  opening and closing times.

- The contact form itself has three required fields and
  users will be prompted if fields are not filled in
  correctly. Icons are used in the contact form to highlight
  the send functionalities for better UI and UX.

- Once an email is submitted the user is redirected to
  a success page and an info window pops-up to confirm
  that the email has been sent. The email received
  by the owner will include the user's `Full Name` and
  `Email` in order for the owner to respond.

- A `Keep Shopping` link is also provided in the success
  page to enable users to navigate away from the contact
  page.

- For smaller devices the 2 column layout will be
  reduced to 1 column with the contact details and map
  first and contact form displayed after.

### About App

![About](/documentation/readme/about.png/)

- An `About` page will give the user a little insight into
  Grandpa's Pocket Watch Shop; providing information on
  it's history and giving the user a personal connection
  to the Website.

- The inclusion of the “About Us” page gives the opportunity
  to emphasise the depth and experience in Pocket Watches
  which the Store has accumulated over the past fifty years.
  It also allows reference to be made that the original store
  owners had been trained at the British Horological Institute,
  thus further bringing authority to what the Store has to offer.

### Profile App

![Profile](/documentation/readme/profile.png/)

- The `My Profile` page is an important part of the
  Website for authenticated users.

- Here users are able to view past orders and up and
  coming appointments booked.

- Past order information can be viewed on a separate page to
  allow the user to double check any details in an order and
  make enquiries if so required. An `overflow` css command was
  used for order numbers to be displayed on mobile devices.

- Appointments can be edited or removed with icons used for each
  respectively. When an appointment booking is removed
  a pop up notification will be displayed accordingly.

- If a user decides to edit an appointment they will be
  redirected to an edit appointment page where previous
  details will be defaulted on the form. Any changes made
  will then be confirmed in a success page along with
  a pop-up window confirming updated appointment. An email
  will also be sent to the user with the updated appointment
  details.

- When a user clicks on the 'edit' icon of an appointment a
  pop-up window will appear for the user informing them that
  are editing a past appointment booking.

- Once an appointment is edited and updated a link
  `BACK TO MY PROFILE` will be accessible for the user.

- In the first column of the page the delivery information is
  shown. Once these fields are filled in correctly they will be used
  as default field content for the payment, contact and service
  forms. Reducing the users work load and providing a good UX.

- Order and Appointments are displayed in the second column of
  the page. An `overflow` css command is used for both the
  `Order History` and `Appointments` list, so that each, after a
  certain amount of orders and appointments, turn to a scrolling
  view which evenly aligns with the `Delivery` and `Keep Shopping`
  height.

- For smaller devices the Order and Appointment table fields
  are reduced to `Order Number` and `Order Total` for
  **Order History** and `Date` and `Time` for **Appointments**
  to allow for a less congested viewing on smaller devices.

### Extra Features

- `Allauth` was used for the profile and accounts functionality, which
  includes features such as Signin and Password Reset. All `Alluath`
  pages will have a standard format of layout and font. With black icons
  and white text. Text input used in templates will be tailored towards
  Grandpa's Pocket Watch Shop friendly language.

  Users should register to the Website and be informed of the reasons
  why they should register. Consequently when a user clicks on the link
  to services they will be redirected to the Signin in page, and be
  greeted with the text 'To book a Repair or Valuation please
  signin/up'.

- Toast info windows are set up throughout the Website to help
  notify the user of successes, information, warnings and errors.
  The info toast windows are set with a 15 second time delay after
  which they will disappear if not removed by the user manually.

- `Stripe` functionality is used for the payment procedure which
   adds a secure form element for collecting credit card information.
   `Webhooks` are also used to listen for any unprecedented, unusual
   behaviour which could affect the payment process. They will send
   out signals securely from Stripe to a URL, each time a model is
   saved or deleted.

- `Users` will be encouraged to register on the Website to be able
   to save delivery information, book appointments, and store orders
   on a personal profile page.

[Go to top](#contents)

### Features left to Implement

Below is a list of features I feel would be beneficial to
add to the Website at a later date:

- **Introduce Discussion Forum**
  A forum to allow users to connect, share ideas and ask
  questions would be a beneficial feature to add to the
  Website. As this increase in traffic will have a
  positive affect to business and increase loyalty.

- **Tracking code**
  A tracking code on the Website would allow the owner to
  monitor traffic and also ascertain what is working and
  not working. Allowing for continued improvement of the
  Website.

- **Payment Procedure**
  A more complex and varied payment procedure to separate
  delivery and payment address, and also allow for 'Paypal'
  to be used in transactions. An ease of payment such as
  'Paypal' can greatly improve UX.

- **Authentication**
  An authentication signing in procedure that can use
  Gmail/ Facebook authentication can really improve traffic
  to a Website as users are relieved of the duty of having
  to type in details.

- **Greater search criteria. Order cancellation feature**
  An order cancellation feature would be reassuring for
  users who may wish to cancel their order and do not want
  to go through the trouble of having to contact the owner.

- **Social Accounts**
  As the Website expands media outlets such as Instagram,
  Facebook and Twitter can greatly promote and spread the
  word of the business.

---

## Testing

---

Testing information can be found here 
[TESTING.md](https://github.com/Bealby/grandpas-pocket-watch-shop/blob/master/TESTING.md)

---

## Database and Models

---

- During the development of the Website the SQLite
  database was used in conjunction with Django.

- In the deployed (production) Website the Postgres
  datebase was used that comes with Heroku.

### Database Relationship Diagram

![Database Relationship Diagram](/documentation/readme/database_relationship_diagram.png/)

---

## Technologies Used

---

The following technologies were used in this project:

### IDE

- [GitPod](https://gitpod.io/workspaces/) - A platform used for
  hard coding of Website

### Hosting

- [Heroku](https://id.heroku.com/) - Heroku is a cloud based platform
   allowing developers to build, run, and operate applications
- [GitHub](https://github.com/)** - Used to store repositories and deploy Websites

### Languages

- [HTML](https://en.wikipedia.org/wiki/HTML) - Markup language of Website
- [CSS](https://en.wikipedia.org/wiki/Cascading_Style_Sheets) - Used to style
   HTML elements
- [Python](https://www.python.org/) - A programming language that lets you work
   quickly and integrate systems more effectively.
- [JavaScript](https://www.javascript.com/) - Programming langguage

### Language Validators

- [W3C](https://validator.w3.org/) - Used to validate HTML code
- [WSC](https://jigsaw.w3.org/css-validator/) - Used to validate CSS code
- [Validate Javascript](https://validatejavascript.com//) - Used to validate
   JavaScript
- [Pep8 online](http://pep8online.com/) - Validator for Python code
- [Markdown Lint](https://github.com/Bealby/markdownlint) - Markdown validation
   service used to check README.md and TESTING.md

### Libraries

- [Google Fonts](https://fonts.google.com/) - Program used to import main
   fonts in Website
- [Font Awesome](https://fontawesome.com/) - Program used to import a multitude
   of icons for the Website
- [SQLite](https://sqlite.org/index.html) - SQLite is a C-language library that
   implements a small, fast, self-contained, high-reliability, full-featured,
   SQL database engine
   [Postgres](https://www.heroku.com/postgres#) Heroku's relational database
   management system

### Tools

- [Balsamiq Wireframes](https://balsamiq.com/wireframes/desktop/) - Used to draw
   up draft designs for the Website
- [Adobe Photoshop](https://www.adobe.com//) - Graphics editor 
- [Adobe Illustrator](https://www.adobe.com//) - Vector graphics editor
- [Responsive Design](http://ami.responsivedesign.is/) - Free software
   to generate Mockup of Website on different devices
- [Lighthouse Audit](https://developers.google.com/web/tools/lighthouse/) -
   To test the 'Performance, 'Best Practices', 'Accessibility' and 'SEO' of
   a Websitr. 
- [Chrome Developer Tools](https://www.google.com/chrome/dev/Google) -
   Developing tool in Chrome to edit pages and diagnose problems
- [Placeholder](https://placeholder.com/) - Used for placeholding of colour
   schemes in README.md
- [Gmail](https://www.emailjs.com/) - Used to create email and confirmation
   service for users
- [Maps Javascript API](https://developers.google.com/maps/documentation/javascript/overview)
   Used to create interactive Map in contact page
- [Stripe/ Web Hook Handlers](https://stripe.com/en-gb-se) - Used for secure
   payments and signals
- [Amazon Web Service](https://aws.amazon.com/) - Used to store static files
   and images
- [Date Picker](https://bootstrap-datepicker.readthedocs.io/en/latest/) -
   Used to display calendar on appointment form
- [Temp Mail](https://temp-mail.org/en/) - Used to test allauth authentications.

### Frameworks

- [DJANGO](https://www.djangoproject.com//) - A high-level Python Web framework that
  encourages rapid development and clean, pragmatic design
- [BOOTSTRAP](https://getbootstrap.com/) - A framework for building responsive
   Websites
- [jQuery](https://jquery.com/) - Used to implement Navigation Collapse feature
   JavaScript Plugin
- [Popper](https://popper.js.org/) - Used to implement Navigation Collapse
   feature JavaScript Plugin

[Go to top](#contents)

---

## Deployment

---

For deployment of Website please follow the below steps:

### Step 1
#### GitHub Development

1. Click the following link [GitHub](https://github.com/) and
   and set up an account in GitHub.

2. Click the following GitHub repository [Granpa's Pocket Watch Shop](https://github.com/Bealby/grandpas-pocket-watch-shop).

3. On the main page of the repository click the green button **Code**.

4. A drop down menu for `Clone with HTTPS` should appear. Copy `URL` link.
   There is also an option to 'Download Zip' of Website if preferred.

5. Open terminal in IDE; i.e. [Gitpod](https://gitpod.io/)

6. Change the current directory to the local directory

7. Type `git clone` plus `URL` in terminal (Copied above). Then `Enter`

8. In the terminal install the Flask `requirements.txt` file using the
   command `pip3 install -r requirements.txt`

9. Then in the terminal type `python3 manage.py migrate` to migrate models.

10. Then load the data in the following order below using the code:
    - `python3 manage.py loaddata categories`
    - `python3 manage.py loaddata products`
    - `python3 manage.py loaddata appointment_type`
    - `python3 manage.py loaddata watch_models`
    - `python3 manage.py loaddata watch_types`
    - `python3 manage.py loaddata appointment_times`

11. To allow for Admin access type in the terminal
    `python3 manage.py createsuperuser`, and provid
    a username, email address and password.

12. For local development in GitPod, create the file `env.py`
    which will contain confidential `USER KEYS` as shown in
    the 'Environ Variables' below. 
    
    Ensure there is a `.gitignore` file also created that
    includes `env.py`, to ensure all 'Environ Variables'
    are never exposed in GitHub. 

##### Environ Variables

| KEY            | VALUE         |
|----------------|---------------|
| STRIPE_PUBLIC_KEY| `<STRIPE_PUBLIC_KEY>` |
| STRIPE_SECRET_KEY| `<STRIPE_SECRET_KEY>` |
| STRIPE_WH_SECRET| `<STRIPE_WH_SECRET>` |   
| GOOGLE_MAP_KEY| `<GOOGLE_MAP_KEY>` |
| DATABASE_URL| `<DATABASE_URL>` |
| SECRET_KEY | `<SECRET_KEY>` |
| DEVELOPMENT | `True` |

13. For Stripe Keys create an account at
    [Stripe](https://stripe.com/en-gb-se). The `STRIPE_PUBLIC_KEY`,
    and `STRIPE_SECRET_KEY` are available in the dashboard once
    logged in. The `STRIPE_WH_SECRET` is created by navigating to
    Developers/Webhooks on Stripe Website and clicking
    '+ Add endpoint'. Copy URL for `Home` page and 
    add 'checkout/wh/' at end.

    For more detailed information go to [Stripe Documentation](https://stripe.com/docs).

14. For the `GOOGLE_MAP_KEY` an account needs to be created at
    [Maps JavaScript API](https://developers.google.com/maps/documentation/javascript/get-api-key).
    The `GOOGLE_MAP_KEY` can then be found in the Website in
    the directory 'Credentials'.

15. The `SECRET_KEY` can be found in `settings.py` in the root
    directory. 

16. The app can then be run by typing the command
    `python3 manage.py runserver` in the terminal

### Step-2
#### Heroku (Production)

The following instructions are based on the Website being
deployed in GitHub/ Gitpod as instructed in [Step 1](#step-1).

1. Click the following link [Heroku Login](https://id.heroku.com/login) and
   and set-up an account in Heroku.

2. Click on the icon to `Create New App`

3. Input an unique `App Name` and `Choose a Region` and click `Create App`

4. In the newly created app click on the tab 'Resources', then type
   'Postgres' in 'Add-ons'.

5. Click on 'Heroku Postgress' and then 'Provision'.

6. Then in 'Gitpod' click on `settings.py` in `grandpas_pocket_watch_shop`
   folder and comment out the following code:

```
# if 'DATABASE_URL' in os.environ:
#    DATABASES = {
#        'default': dj_database_url.parse(os.environ.get('DATABASE_URL'))
#    }
# else:
#    DATABASES = {
#        'default': {
#            'ENGINE': 'django.db.backends.sqlite3',
#            'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
#        }
#    }
```

7. Then add the following code below:
   N.B. This code is tempoary and will be removed in
   later instructons.

```
DATABASES = {
    'default': dj_database_url.parse(os.environ.get('DATABASE_URL'))
}
```

8. Then in the Heroku app created, go to 'Settings',
   then 'Config Vars', and copy and paste the key
   in the `env.py` file for `DATEBASE_URL`.

9. Migrations then need to be carried out for new 'Postgres'
   database with the command `python3 manage.py migrate`.

10. Fixtures also need to be loaded again with the following command:
    - `python3 manage.py loaddata categories`
    - `python3 manage.py loaddata products`
    - `python3 manage.py loaddata appointment_type`
    - `python3 manage.py loaddata watch_models`
    - `python3 manage.py loaddata watch_types`
    - `python3 manage.py loaddata appointment_times`

11. Create a super user again with the following
    command, `python3 manage.py createsuperuser`, 
    providing a username, email address and password.

12. Back in the Heroku app click the link `Settings` and scroll to the button `Reveal Convig Vars`

    Ensure all keys are added in 'Config Vars' in Heroku
    as found in [Step 1 - 12](#environ-variables):

    N.B. Do **NOT** include the variable
    'DEVELOPMENT = `True`' in Heroku.


| KEY            | VALUE         |
|----------------|---------------|
| STRIPE_PUBLIC_KEY| `<STRIPE_PUBLIC_KEY>` |
| STRIPE_SECRET_KEY| `<STRIPE_SECRET_KEY>` |
| STRIPE_WH_SECRET| `<STRIPE_WH_SECRET>` |   
| GOOGLE_MAP_KEY| `<GOOGLE_MAP_KEY>` |
| DATABASE_URL| `<DATABASE_URL>` |
| SECRET_KEY | `<SECRET_KEY>` |


13. To allow the `Postgres` database to run in Heroku
    (production) and `SQLite` to run locally (development),
    un-comment out the code in `settings.py` (Step 2 - 6)
    and remove the tempoary code that was added in earlier 
    instructions (Step 2 - 7).

    The Final code in `settings.py`should be:

```
if 'DATABASE_URL' in os.environ:
    DATABASES = {
        'default': dj_database_url.parse(os.environ.get('DATABASE_URL'))
    }
else:
    DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.sqlite3',
            'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
        }
    }
```

14. Ensure `gunicorn` is installed and is shown in requirements.txt.
    If not type:
    - `pip3 install gunicorn`
    - Then add to requirements by typing `pip3 freeze --local > requirements.txt` 

15. If not already created, ensure a new file named `Procfile` is added
  to the root directory with the following code inputted:
    - `web: gunicorn grandpas_pocket_watch_shop.wsgi:application`
  
16. To ensure Heroku doesn't try to collect static files
  when deploying, type the following code in the terminal:
    - `heroku config:set DISABLE_COLLECTSTATIC=1 --app <NAME OF APP>`
      (If logged in on terminal)

    or
    
    - Open up 'Convig Vars' in Heroku and add:
      `DISABLE_COLLECTSTATIC=1`
      

17. In `settings.py` add the following Heroku host path to `Allowed Hosts`.
    - `ALLOWED_HOSTS = ['HEROKU HOST NAME', 'localhost']`

18. In the terminal log into Heroku using the command `heroku login`

19. Enter your `Email` and `Password` when prompted

20. (Any 'Heroku Apps' created can be viewed using the command `heroku apps`)

   Set up `Heroku` as `Master` branch using the command `heroku git:remote -a <APP NAME>`.
  The `app-name` being the name of the `Heroku App` created (Step 2 - 2).

21. Finally to update to Heroku:
  - `git add .`
  - `git commit -m ""`
  - `git push origin master` (Push to heroku)

### Step-3
### Store Static Files and Images

1. [Amazon Web Services S3](https://aws.amazon.com/) is used
   to store static files and images. Create an account.

2.  Once logged in a 'Bucket' needs to be created. 
    A tutorial on 'Creating a Bucket' can be found
    [Here](https://docs.aws.amazon.com/AmazonS3/latest/gsg/CreatingABucket.html).

3. Further documentation on setting up can be found
   [here](https://django-storages.readthedocs.io/en/latest/backends/amazon-S3.html)

4. Back in GitHub, ensure `boto3` and `django-storages`
   are installed in requirements.txt.
   If not type:
    - `pip3 install boto3`
    - `pip3 install django-storages`
    - Then add to requirements by typing `pip3 freeze --local > requirements.txt` 

5. In `settings.py` ensure `AWS STORAGE NAME` and `REGION NAME` 
   have correct details.

```
    AWS_STORAGE_BUCKET_NAME = '<AWS STORAGE NAME>'
    AWS_S3_REGION_NAME = '<REGION NAME>'
```

6. Then add the AWS keys to 'Config Vars' in Heroku, as below:


| KEY            | VALUE         |
|----------------|---------------|
| AWS_ACCESS_KEY_ID| `<AWS_ACCESS_KEY_ID>` |
| AWS_SECRET_ACCESS_KEY| `<AWS_SECRET_ACCESS_KEY>` |
| USE_AWS| `True` |


7. Also ensure that `DISABLE_COLLECTSTATIC=1`
   is removed from 'Config Vars' in Heroku.

8. Then push all changes to Heroku:
  - `git add .`
  - `git commit -m ""`
  - `git push origin master`

9. Log in to [Amazon Web Services S3](https://aws.amazon.com/) and
   make sure all ´Static' files are uploaded.
  
   Within the same directory in AWS, create a new folder called `media`
   and upload all product image files from the GitHub folder
   `media`.

10. An email address for our superuser on the `Postgres` database
    needs to be confirmed. Access Website in Heroku by clicking on
    'Open app' and then access the Django Admin.

    Access your email addess in Admin and ensure 'Verified' and
    'Primary' boxes are checked and then save changes.

11. When deploying to Heroku it is important to update
    the `STRIPE_WH_SECRET` key in the 'Config Vars' in Heroku.
    As explained in earlier instructions (Step 1 - 13), create a new
    path for the Strip Webhook Handler using the Heroku Website link.

12. Finally push all changes again to Heroku:
  - `git add .`
  - `git commit -m ""`
  - `git push origin master`

### Step-4
### Email

To allow Django to send real emails, one solution is to use the
email provider, [Gmail](https://www.google.com/gmail/about/)

1. In your security settings set up 2step-verification.

2. Then click the option 'App passwords' and select 'Mail'
   as the app type, and 'Django' as the device.

3. A password will then be generated and should be added
   to the 'Config Vars' in the Heroku. As well as 
   `EMAIL_HOST_USER`.
   
| KEY            | VALUE         |
|----------------|---------------|
| EMAIL_HOST_PASS| `<EMAIL_HOST_PASS>` |
| EMAIL_HOST_USER| `<EMAIL>` |

[Go to top](#contents)

---
  
## Credits

---

### Code

- Grandpa's Pocket Watch Shop Website was influenced and inspired by the
  Boutique Ado lessons tutored by @ckz8780 at
  [code Institute](https://courses.codeinstitute.net/program/FullstackWebDeveloper)
  , especially concepts and frameworks behind e-commerce Websites
  and the features available. Grandpa's Pocket Watch Shop however
  was customised accordingly to fit the Website's aim as well as
  modified and extended to create new features and apps tailored
  towards the Websites requirements.

- The contact form was guided by a tutorial at
  [Learn Django](https://learndjango.com/tutorials/django-email-contact-form).

- Support to fix the Date Picker selecting only certain criteria was inspired from:
  [Stack Overflow - Enable Current Week](https://stackoverflow.com/questions/34063300/enable-only-current-week-days-in-bootstrap-datepicker)
  [Stack Overflow - User Input](https://stackoverflow.com/questions/153759/jquery-datepicker-with-text-input-that-doesnt-allow-user-input#153804)

- The blinking icon feature in the Services app was taken from an idea provided by
  [HTML Online](https://html-online.com/articles/blinking-text-css-animation/).

### Content

- All content for this Website was provided by Murray Bealby.

### Media

- All photos and images were provided by Murray Bealby.

### Acknowledgements

- **Aaron Sinnott:** Mentor for professional advice and good practice.
- **Code Institute Support:** The multitude of fantastic tutors
  at Code Institute who have advised and succeeded in solving
  many problems and issues.
- **Slack Forum:** The benevolent force of the
  Slack community
- **Friends and Family:** For invaluable feedback and support

### Grandpa's Pocket Watch Shop

- Although the story of Pocket Watches runs in the family the
  the shop and business is fictitious